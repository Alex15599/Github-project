(global["webpackChunkchatgpt"]=global["webpackChunkchatgpt"]||[]).push([["pages/index/index"],{932:function(t,e,s){"use strict";s.r(e);s(476);var n,i,a=function(){var t=this,e=t.$createElement;t._self._c},o=[],g=s(793)["default"],r=s(480)["default"],m={data:function(){return{msgLoad:!1,sendText:"发送",anData:{},animationData:{},showTow:!1,msgList:[{my:!1,msg:"你好呀,想问什么就问吧"}],parentMessageId:"",msgContent:"",msg:"",isInit:!0,isLimited:!1,date:(new Date).toISOString().slice(0,10),small:!1}},onLoad:function(){var t=g.getSystemInfoSync().screenHeight;t<700&&(this.small=!0);var e=r.getStorageSync("init");e?this.isInit=!0:(this.isInit=!1,r.setStorageSync("init",!0));var s=r.getStorageSync(this.date)>=30;s&&(this.isLimited=!0)},methods:{closePopup:function(){this.isInit=!0,this.isLimited=!1},gotoBlog:function(){r.navigateTo({url:"/pages/index/blog"})},sendMsg:function(){var t=this;if(""==this.msg)return 0;var e=r.getStorageSync(this.date),s=e>=30;if(s)this.isLimited=!0;else{this.sentext="请求中",this.msgList.push({msg:this.msg,my:!0}),this.msgContent+="YOU:"+this.msg+"\n",console.log(this.msgContent),this.msgLoad=!0,this.msg="";var n=JSON.stringify({message:this.msgContent,conversationId:"",parentMessageId:this.parentMessageId});r.request({url:"<填入自己的服务地址>",data:n,method:"POST",timeout:18e5,success:function(s){if(console.log(s),200==s.statusCode){var n=s.data.response;console.log(n),r.setStorageSync(t.date,e+1),t.msgList.push({msg:n,my:!1}),t.msgContent+=n+"\n",t.msgLoad=!1,t.parentMessageId=s.data.messageId,t.sentext="发送"}else t.apibut="连接失败，请检查apikey后重试"}})}}}},u=m,c=s(874),d=s.n(c),l=(d(),s(453)),h=(0,l["default"])(u,a,o,!1,null,null,null,!1,n,i),f=h.exports,p=s(793)["default"],S=s(480)["createPage"];p.__webpack_require_UNI_MP_PLUGIN__=s,S(f)},874:function(){}},function(t){var e=function(e){return t(t.s=e)};t.O(0,["common/vendor"],(function(){return e(932)}));t.O()}]);